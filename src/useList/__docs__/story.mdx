import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { Example } from './example.stories.js';
import { ImportPath } from '../../__docs__/ImportPath.js';

<Meta title="State/useList" component={Example} />

# useList

Tracks a list and offers functions for manipulating it.

Manipulating the list directly will not cause a rerender. Instead, use the offered functions.

> **_This hook provides a stable API, meaning the returned functions do not change between renders_**

#### Example

<Canvas>
	<Story story={Example} inline />
</Canvas>

## Reference

```ts
function useList<T>(initialList: InitialState<T[]>): [T[], ListActions<T>];
```

#### Importing

<ImportPath />

#### Arguments

- _**initialList**_ _`InitialState<T[]>`_ - Initial list or function returning a list

#### Return

1. **list** - The current list.

2. **actions**

   - **set** - Replaces the current list.
   - **push** - Adds an item or items to the end of the list.
   - **updateAt** - Replaces the item at the given index of the list. If the given index is out of
     bounds, empty elements are appended to the list until the given item can be set to the given index.
   - **insertAt** - Inserts an item at the given index of the list. All items following the given
     index are shifted one position. If the given index is out of bounds, empty elements are appended
     to the list until the given item can be set to the given index.
   - **update** - Replaces all items of the list that match the given predicate with the given item.
   - **updateFirst** - Replaces the first item of the list that matches the given predicate with the
     given item.
   - **upsert** - Replaces the first item of the list that matches the given predicate with the
     given item. If none of the items match the predicate, the given item is pushed to the list.
   - **sort** - Sorts the list with the given sorting function. If no sorting function is given,
     the default Array.prototype.sort() sorting is used.
   - **filter** - Filters the list with the given filter function.
   - **removeAt** - Removes the item at the given index of the list. All items following the given
     index will be shifted. If the given index is out of the bounds of the list, the list will not be
     modified, but a rerender will occur.
   - **clear** - Deletes all items of the list.
   - **reset** - Replaces the current list with the initial list given to this hook.
