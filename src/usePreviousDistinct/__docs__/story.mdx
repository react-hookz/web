import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { Example } from './example.stories';
import { ImportPath } from '../../__docs__/ImportPath';

<Meta title="State/usePreviousDistinct" component={Example} />

# usePreviousDistinct

Returns the most recent _distinct_ value passed to the hook on previous render. Distinct here means
that the hook's return value will only update when the passed value updates. This is useful when
other renders are involved potentially making multiple, irrelevant updates.

#### Example

<Canvas>
  <Story story={Example} inline />
</Canvas>

## Reference

```ts
export type Predicate<T> = (prev: T, next: any) => next is typeof prev;

const isStrictEqual = <T>(a: T, b: any): b is typeof a => a === b;

export function usePreviousDistinct<T>(
  value: T,
  predicate: Predicate<T> = isStrictEqual
): T | undefined;
```

#### Importing

<ImportPath />

#### Arguments

- _**value**_ _`T (any)`_ - Value to yield on next render if it's different from the previous one.
- _**predicate**_ _`Predicate<T> | undefined`_ - Optional predicate to determine if the value is
  distinct. If not provided, the value will be updated if it is strictly equal (`===`) to the
  previous value.

#### Return

Returns previously passed value (if different from previous) or `undefined` for the case of first
render.
