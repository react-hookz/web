import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import { Example } from './example.stories';

<Meta title="Side-effect/useCookie" component={Example} />

# useCookie

Manages a single cookie.

> Requires installation of `js-cookie` package.

- Uses `js-cookie` package underneath.
- SSR-friendly.
- Hooks that managing same key on same page - are synchronised. This synchronisation does not
  involve cross-tabs sync or triggering on changes that performed by third-party code.

#### Example

<Canvas columns={3}>
  <Story story={Example} inline />
  <Story story={Example} inline />
  <Story story={Example} inline />
</Canvas>

## Reference

```ts
export type IUseCookieReturn = [
  value: undefined | null | string,
  set: (value: string) => void,
  remove: () => void,
  fetch: () => void
];

export function useCookie(key: string, options?: Cookies.CookieAttributes): IUseCookieReturn;
```

#### Arguments

- **key** _`string`_ - Cookie name to manage.
- **options** _`Cookies.CookieAttributes`_ _(default: undefined)_ - Cookie options that will be
  used during cookie set and delete.

#### Return

0. **state** - cookie value, `undefined` means it is not fetched yet, `null` means absence of
   cookie.
1. **det** - Method to set new cookie value.
2. **remove** - Method to remove cookie.
3. **fetch** - Method to re-fetch cookie value.
